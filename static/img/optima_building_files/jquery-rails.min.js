function _ajax_request(t,i,e,n,u){return jQuery.isFunction(i)&&(e=i,i={}),jQuery.ajax({type:u,url:t,data:i,success:e,dataType:n})}function ajaxLinks(){$(".ajaxForm").submitWithAjax(),$("a.get").getWithAjax(),$("a.post").postWithAjax(),$("a.put").putWithAjax(),$("a.delete").deleteWithAjax()}jQuery.ajaxSetup({beforeSend:function(t){t.setRequestHeader("Accept","text/javascript")}}),jQuery.extend({put:function(t,i,e,n){return _ajax_request(t,i,e,n,"PUT")},delete_:function(t,i,e,n){return _ajax_request(t,i,e,n,"DELETE")}}),jQuery.fn.submitWithAjax=function(){return this.unbind("submit",!1),this.submit(function(){return $.post(this.action,$(this).serialize(),null,"script"),!1}),this},jQuery.fn.getWithAjax=function(){return this.unbind("click",!1),this.click(function(){return $.get($(this).attr("href"),$(this).serialize(),null,"script"),!1}),this},jQuery.fn.postWithAjax=function(){return this.unbind("click",!1),this.click(function(){return $.post($(this).attr("href"),$(this).serialize(),null,"script"),!1}),this},jQuery.fn.putWithAjax=function(){return this.unbind("click",!1),this.click(function(){return $.put($(this).attr("href"),$(this).serialize(),null,"script"),!1}),this},jQuery.fn.deleteWithAjax=function(){return this.removeAttr("onclick"),this.unbind("click",!1),this.click(function(){return $.delete_($(this).attr("href"),$(this).serialize(),null,"script"),!1}),this},$(document).ready(function(){$(document).ajaxSend(function(t,i,e){void 0!==window.AUTH_TOKEN&&"GET"!=e.type&&"get"!=e.type&&(e.data=e.data||"",e.data+=(e.data?"&":"")+"authenticity_token="+encodeURIComponent(window.AUTH_TOKEN))}),ajaxLinks()});
